quantities = [
    {"9781784871796": 2},
    {"9782367320861": 2},
    {"9782367321127": 2},
    {"9782367321165": 6},
    {"9782367321233": 2},
    {"9782367321257": 8},
    {"9782367321295": 2},
    {"9782367321363": 2},
    {"9782367321400": 3},
    {"9782367321431": 2},
    {"9782367321608": 4},
    {"9782367321707": 5},
    {"9782367321752": 3},
    {"9782367321844": 2},
    {"9782367321882": 7},
    {"9782915540185": 2},
    {"9782915540352": 2},
    {"9782915540864": 4},
    {"9783946277118": 5},
    {"9789082757774": 2},
    {"9789492313515": 9},
    {"9789720030542": 2},
    {"9789720031488": 2},
    {"9789720031693": 2},
    {"9789720046499": 9},
    {"9789720046536": 5},
    {"9789720046673": 2},
    {"9789720046710": 3},
    {"9789720046826": 2},
    {"9789720046833": 3},
    {"9789720046956": 2},
    {"9789720047595": 2},
    {"9789720048554": 2},
    {"9789720049568": 2},
    {"9789720049575": 2},
    {"9789720049636": 3},
    {"9789720301604": 3},
    {"9789720793102": 2},
    {"9789722036856": 3},
    {"9789722050364": 2},
    {"9789722052061": 2},
    {"9789722065344": 2},
    {"9789722065764": 2},
    {"9789722068109": 2},
    {"9789722069496": 2},
    {"9789722120951": 3},
    {"9789722127042": 2},
    {"9789722128193": 2},
    {"9789722128728": 3},
    {"9789722129442": 2},
    {"9789722129671": 2},
    {"9789722129688": 2},
    {"9789722129961": 3},
    {"9789722130035": 2},
    {"9789722130165": 2},
    {"9789722536974": 2},
    {"9789722537506": 2},
    {"9789723716924": 2},
    {"9789723717013": 2},
    {"9789723717051": 2},
    {"9789723717464": 2},
    {"9789723829174": 7},
    {"9789725686737": 2},
    {"9789727953530": 2},
    {"9789892095011": 10},
    {"9789896168469": 3},
    {"9789896232702": 2},
    {"9789896268800": 2},
    {"9789896412982": 2},
    {"9789896417475": 2},
    {"9789896418311": 2},
    {"9789896418694": 2},
    {"9789896418939": 2},
    {"9789896418984": 2},
    {"9789896605872": 2},
    {"9789896651275": 2},
    {"9789896655297": 2},
    {"9789896655877": 2},
    {"9789896656928": 4},
    {"9789896657604": 3},
    {"9789896658465": 3},
    {"9789896659080": 3},
    {"9789896659127": 2},
    {"9789896659233": 2},
    {"9789896713270": 2},
    {"9789896714185": 2},
    {"9789896714192": 2},
    {"9789896920654": 2},
    {"9789896920944": 2},
    {"9789896921217": 2},
    {"9789897222658": 3},
    {"9789897224416": 2},
    {"9789897224423": 2},
    {"9789897224591": 2},
    {"9789897225154": 2},
    {"9789897226212": 4},
    {"9789897731181": 2},
    {"9789897761010": 3},
    {"9789898093820": 3},
    {"9789898470263": 2},
    {"9789898775184": 3},
    {"9789898775290": 2},
    {"9789898789129": 2},
    {"9789898828262": 2},
    {"9789898828460": 2},
    {"9789898907622": 4},
    {"9789898911490": 3},
    {"9789898979056": 5},
    {"9789898979261": 2},
    {"9791091837170": 3},
]


from core.models import Livre, ImageLivre, LivreItem
import os
import requests
from django.core.files import File
import datetime
import pytz
import django.utils.encoding


def check_isbn_exists(isbn):
    try:
        return Livre.objects.get(isbn=isbn)
    except Livre.DoesNotExist:
        return False


def update_product(isbn, quant):
    book_instance = check_isbn_exists(isbn)
    if isinstance(book_instance, Livre):
        for _ in range(quant - 1):
            b = LivreItem(livre=book_instance)
            b.save()


def update_books_into_postgres():
    for item in quantities:
        for key, value in item.items():
            update_product(isbn=key, quant=value)


update_books_into_postgres()
